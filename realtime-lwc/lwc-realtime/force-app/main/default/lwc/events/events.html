<template>
  <c-notification-message
    message="Let's explore the empApi component"
  ></c-notification-message>
  <div class="slds-grid slds-gutters slds-m-top_small">
    <div class="slds-col slds-size_2-of-3">
      <template lwc:if={isSubscribed}>
        <div class="slds-text-heading_medium slds-m-top_small">{channelName}</div>
        <template lwc:if={result}>
          <pre class="code-box">
            {result}
          </pre>
        </template>
      </template>
      <template lwc:else>
        <lightning-input
          type="text"
          label="Please enter channel name"
          placeholder="/event/Channel_Name__e"
          value={channelName}
          onchange={handleChannelNameChange}
          required
        ></lightning-input>
      </template>
    </div>
    <div class="slds-col slds-size_1-of-3 slds-align-top">
      <lightning-button
        label={subscriptionButtonLabel}
        variant="brand"
        onclick={handleSubscription}
      ></lightning-button>
    </div>
  </div>
</template>
